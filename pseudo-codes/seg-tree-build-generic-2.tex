\begin{algorithm}
    \caption{Build Segment Tree for Range Update and Point Query over Monoid \((S, \bigoplus, e)\)}
    \begin{algorithmic}[1]
            \caption{Point Query on Segment Tree }
            \Procedure{query}{seg, index}
                \State $index \gets index + n$ \Comment{Shift index to leaf}
                \State $result \gets 0$ \Comment{Initialize result with the neutral value}
                \While{$index \geq 1$} 
                    \State $arr[index] \gets (arr[2 \times index] \bigoplus arr[2 \times index + 1])$
                    \State $index \gets \lfloor index / 2 \rfloor$
                \EndWhile
            \EndProcedure

        \\

        \caption{Range Update on Segment Tree (Recursive, Close-Open Range)}
            \Procedure{RangeQuery}{seg, index, l, r, a, b, x}
                \If{$b \leq l$ \textbf{or} $r \leq a$}
                    \State \Return
                \ElsIf{$a \leq l$ \textbf{and} $r \leq b$}
                    \State $seg[index] \gets seg[index] \ast x$
                \Else
                    \State $mid \gets \left\lfloor \frac{l + r}{2} \right\rfloor$
                    \State \Call{RangeQuery}{seg, $2 \cdot index$, $l$, $mid$, $a$, $b$, $x$}
                    \State \Call{RangeQuery}{seg, $2 \cdot index + 1$, $mid$, $r$, $a$, $b$, $x$}
                    \State \Return
                \EndIf
            \EndProcedure

    \end{algorithmic}
\end{algorithm}
